var DcaWizard={openModalWindow:function(b){var c=b||{};var a=(window.getSize().y-180).toInt();if(!c.height||c.height>a){c.height=a}var d=new SimpleModal({width:c.width,btn_ok:Contao.lang.close,draggable:false,closeButton:false,overlayOpacity:0.5,onShow:function(){document.body.setStyle("overflow","hidden")},onHide:function(){document.body.setStyle("overflow","auto")}});d.addButton(c.applyLabel,"btn primary",function(){var g=null,e=window.frames;for(var f=0;f<e.length;f++){if(e[f].name=="simple-modal-iframe"){g=e[f];break}}if(g===null){alert("Could not find the SimpleModal frame");return}if(g.document.location.href.indexOf("contao/main.php")==-1){alert(Contao.lang.picker);return}new Request.Contao({evalScripts:false,onRequest:AjaxRequest.displayBox(Contao.lang.loading+" â€¦"),onSuccess:function(h,i){$("ctrl_"+c.id).set("html",i.content);i.javascript&&Browser.exec(i.javascript);AjaxRequest.hideBox()}}).post({action:"reloadDcaWizard",name:c.id,REQUEST_TOKEN:Contao.request_token});this.hide()});d.show({title:c.title,contents:'<iframe src="'+c.url+'" name="simple-modal-iframe" width="100%" height="'+c.height+'" frameborder="0"></iframe>',model:"modal"})}};